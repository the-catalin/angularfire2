{"version":3,"file":"firebase_object_observable.js","sourceRoot":"","sources":["../../src/database/firebase_object_observable.ts"],"names":[],"mappings":";;;;;OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB;AAM5C;IAAiD,4CAAa;IAC5D,kCAAY,SAA4E,EAAS,IAAiC;QAChI,kBAAM,SAAS,CAAC,CAAC;QAD8E,SAAI,GAAJ,IAAI,CAA6B;IAElI,CAAC;IACD,uCAAI,GAAJ,UAAW,QAAwB;QACjC,IAAM,UAAU,GAAG,IAAI,wBAAwB,EAAK,CAAC;QACrD,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;QACzB,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,MAAM,CAAC,UAAU,CAAC;IACpB,CAAC;IACD,sCAAG,GAAH,UAAI,KAAU;QACZ,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;QAC3D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IACD,yCAAM,GAAN,UAAO,KAAa;QAClB,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;QAC3D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IACD,yCAAM,GAAN;QACE,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;QAC3D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IAC5B,CAAC;IACH,+BAAC;AAAD,CAAC,AA7BD,CAAiD,UAAU,GA6B1D","sourcesContent":["import { Observable } from 'rxjs/Observable';\r\nimport { Operator } from 'rxjs/Operator';\r\nimport { Subscriber } from 'rxjs/Subscriber';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport * as firebase from 'firebase';\r\n\r\nexport class FirebaseObjectObservable<T> extends Observable<T> {\r\n  constructor(subscribe?: <R>(subscriber: Subscriber<R>) => Subscription | Function | void, public $ref?:firebase.database.Reference) {\r\n    super(subscribe);\r\n  }\r\n  lift<T, R>(operator: Operator<T, R>): Observable<R> {\r\n    const observable = new FirebaseObjectObservable<R>();\r\n    observable.source = this;\r\n    observable.operator = operator;\r\n    observable.$ref = this.$ref;\r\n    return observable;\r\n  }\r\n  set(value: any): firebase.Promise<void> {\r\n    if(!this.$ref) {\r\n      throw new Error('No ref specified for this Observable!');\r\n    }\r\n    return this.$ref.set(value);\r\n  }\r\n  update(value: Object): firebase.Promise<void> {\r\n    if(!this.$ref) {\r\n      throw new Error('No ref specified for this Observable!');\r\n    }\r\n    return this.$ref.update(value);\r\n  }\r\n  remove(): firebase.Promise<void> {\r\n    if(!this.$ref) {\r\n      throw new Error('No ref specified for this Observable!');\r\n    }\r\n    return this.$ref.remove();\r\n  }\r\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}